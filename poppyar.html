<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Apothecary AR</title>
    <!-- A-Frame core lib -->
    <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
    <!-- AR.js library for A-Frame -->
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
    <script src="https://unpkg.com/aframe-animation-component@5.1.2/files/dist/aframe-animation-component.js"></script>

    <style>

      #back, #hint {
        z-index: 9999;
        pointer-events: auto;
      }

      a-scene, a-scene canvas {
        position: relative;
        z-index: 1;
      }
    </style>

  </head>
  <body style="margin: 0; overflow: hidden">
    <a href="index.html" style="text-decoration: none;"><div id="back" style="position: fixed; width: 50px; height: 50px; top: 10px; left: 10px; background:white; border-radius: 15px; border: 2px solid gray; 
    font-family: sans-serif; display: flex; align-items: center; justify-content: center; color:rgb(67, 67, 67);">Back</div></a>
    <div id="hint" style="position: fixed; bottom: 10px; height: 50px; width: 100%; display: flex; align-items: center; justify-content: center; color:rgb(67, 67, 67); font-family: sans-serif; background:white; border-radius: 15px; border: 2px solid gray;">
  Point your camera at the printed marker
    </div>
    <!-- AR scene -->
    <a-scene embedded arjs="sourceType: webcam; debugUIEnabled: false" vr-mode-ui="enabled: false;">
        <!-- point light -->
        <a-entity light="type: point; intensity: 1.2; decay: 2" position="2 4 2"></a-entity>
        <!-- ambient light -->
        <a-entity light="type: ambient; intensity: 0.3"></a-entity>

        <a-marker preset="hiro">
            <!-- metal box
            <a-box 
            position="0 0.5 0"
            width="1" height="1" depth="1"
            color="#ffffff"
            shader="standard"
            metalness="0.6"
            roughness="0.1">
            </a-box> -->

            <a-entity
            gltf-model="./poppy_seed_pod/scene.gltf"
            scale="0.025 0.025 0.025"
            position="0 0.75 0"
            animation="property: rotation; easing: linear; dur: 6000; to: 0 360 0; loop: true;"
            ></a-entity>
            <a-entity 
                position="0 1.5 0" 
                scale="5 5 5" 
                text="value: Poppyseed Pod; font: exo2bold; align: center; color: #ff1212; side: double">
            </a-entity>


            <a-entity
            gltf-model="./poppy_flower/scene.gltf"
            scale="0.25 0.25 0.25"
            position="1.5 0.75 0"
            rotation="40 0 0"
            animation="property: rotation; easing: linear; dur: 6000; to: 40 360 0; loop: true;"
            ></a-entity>
            <a-entity 
                position="1.5 1.5 0" 
                scale="5 5 5" 
                text="value: Poppy Flower; font: exo2bold; align: center; color: #ff1212; side: double">
            </a-entity>
        </a-marker>

        <a-marker preset="kanji">
            <!-- metal sphere
            <a-entity
            geometry="primitive: sphere; radius: 0.5"
            position="0 0.5 0"
            material="color: #ff4f4f; shader: standard; metalness: 0.8; roughness: 0.2">
            </a-entity> -->
        </a-marker>

        <a-entity camera></a-entity>
    </a-scene>

    <script>
    document.querySelector('a-marker').addEventListener('markerFound', () => {
        document.getElementById('hint').style.display = 'none';
    });
    </script>

  </body>
</html>
